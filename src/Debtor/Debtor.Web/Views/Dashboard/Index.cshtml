@using Debtor.Web.Models.Dashboard
@model DashboardIndexViewModel

@{
    ViewData["Title"] = "Dashboard";
}

@if (User.FindFirst("email")!.Value == "admin@hostmaster.com")
{
    <h1>Admin Panel</h1>
    <a asp-controller="Accounts" asp-action="All" class="btn btn-primary">All Accounts</a>
    <a asp-controller="Transactions" asp-action="All" class="btn btn-primary">All Transactions</a>
}
else
{
    <h1>User Panel</h1>
    <p>ID: @Model.Account.Id</p>
    <p>Full Name: @Model.Account.FullName</p>
    <p>Account Type: @Model.Account.AccountType</p>
    <p>Email: @Model.Account.Email</p>
    <p>Phone: @Model.Account.Phone</p>
    <p>Created At: @Model.Account.CreatedAt</p>

    <table class="table table-striped table-bordered table-hover">
        <thead>
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Account ID</th>
                <th scope="col">Transaction Type</th>
                <th scope="col">Amount</th>
                <th scope="col">Currency</th>
                <th scope="col">Transaction At</th>
                <th scope="col">Payment Method</th>
            </tr>
        </thead>
        <tbody>
        @foreach (AccountTransaction transaction in Model.Transactions)
        {
                <tr>
                    <td scope="row">@transaction.Id</td>
                    <td>@transaction.AccountId</td>
                    <td>@transaction.TransactionType</td>
                    <td>@transaction.Amount</td>
                    <td>@transaction.Currency</td>
                    <td>@transaction.TransactionAt</td>
                    <td>@transaction.PaymentMethod</td>
                </tr>
        }
        </tbody>
    </table>
    <p>Balance: @Model.Balance</p>
    <a class="btn btn-primary" asp-controller="Transactions" asp-action="Create">Create</a>
}
